(self.webpackChunkfranklin_sites=self.webpackChunkfranklin_sites||[]).push([[7323],{"./stories/TreeSelect.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{TreeSelect:function(){return TreeSelect_stories_TreeSelect},TreeSelectWithAutocomplete:function(){return TreeSelectWithAutocomplete},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return TreeSelect_stories}});var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=(__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/react/index.js")),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),dropdown_button=__webpack_require__("./src/components/dropdown-button.tsx"),components_button=__webpack_require__("./src/components/button.tsx"),components_autocomplete=__webpack_require__("./src/components/autocomplete.tsx"),utils=__webpack_require__("./src/utils.tsx"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),tree_select=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/styles/components/tree-select.scss"),tree_select_default=__webpack_require__.n(tree_select),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(tree_select_default(),options),tree_select_default()&&tree_select_default().locals&&tree_select_default().locals;var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const _excluded=["data","onSelect","autocomplete","autocompletePlaceholder","autocompleteFilter","defaultActiveNodes","label"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const TreeSelect=_ref=>{let{data:data,onSelect:onSelect,autocomplete:autocomplete=!1,autocompletePlaceholder:autocompletePlaceholder="",autocompleteFilter:autocompleteFilter=!0,defaultActiveNodes:defaultActiveNodes=[],label:label}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const[activeNodes,setActiveNodes]=(0,react.useState)(defaultActiveNodes),[openNodes,setOpenNodes]=(0,react.useState)([]);(0,react.useEffect)((()=>{setOpenNodes(Array.from((0,utils._w)(data)))}),[data]);const[autocompleteShowDropdown,setAutocompleteShowDropdown]=(0,react.useState)(!1),autocompleteData=(0,react.useMemo)((()=>(0,utils.f4)((0,utils.PR)(data))),[data]),toggleNode=(0,react.useCallback)((node=>setOpenNodes((openNodes=>openNodes.includes(node.id)?openNodes.filter((id=>id!==node.id)):[...openNodes,node.id]))),[]),handleNodeClick=(0,react.useCallback)(((node,setShowDropdownMenu)=>{if("string"!=typeof node)if(node.items)toggleNode(node);else{const path=(0,utils.PR)(data,node.id)[0],leafNode=path[path.length-1];setActiveNodes(path.map((d=>d.id))),setOpenNodes(path.map((d=>d.id))),onSelect(leafNode),setShowDropdownMenu(!1)}}),[data,onSelect,toggleNode]),buildTree=(0,react.useCallback)((function(items,setShowDropdownMenu){let first=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,jsx_runtime.jsx)("ul",{role:first?"tree":"group",children:items.map((node=>{var _node$items;let ariaExpanded;return node.items&&(ariaExpanded=openNodes.includes(node.id)?"true":"false"),(0,jsx_runtime.jsxs)("li",{role:"treeitem","aria-expanded":ariaExpanded,"aria-selected":ariaExpanded,className:classnames_default()({branch:node.items}),children:[(0,jsx_runtime.jsx)(components_button.A,{onClick:()=>handleNodeClick(node,setShowDropdownMenu),className:classnames_default()({active:activeNodes.includes(node.id)}),variant:"secondary","aria-label":null!==(_node$items=node.items)&&void 0!==_node$items&&_node$items.length?`${node.label} (${node.items.length} nested option${1===node.items.length?"":"s"})`:void 0,children:node.label}),node.items&&buildTree(node.items,setShowDropdownMenu)]},node.id)}))})}),[activeNodes,handleNodeClick,openNodes]);return(0,jsx_runtime.jsx)(dropdown_button.Ay,_objectSpread(_objectSpread({label:label||"Select"},props),{},{children:setShowDropdownMenu=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[autocomplete&&(0,jsx_runtime.jsx)(components_autocomplete.Ay,{data:autocompleteData,onDropdownChange:setAutocompleteShowDropdown,onSelect:node=>handleNodeClick(node,setShowDropdownMenu),placeholder:autocompletePlaceholder,filter:autocompleteFilter,clearOnSelect:!0,autoFocus:!0}),!autocompleteShowDropdown&&(0,jsx_runtime.jsx)("div",{className:"dropdown-menu__panel",children:buildTree(data,setShowDropdownMenu,!0)})]})}))};TreeSelect.displayName="TreeSelect";var src_components_tree_select=TreeSelect;try{treeselect.displayName="treeselect",treeselect.__docgenInfo={description:"",displayName:"treeselect",props:{openOnHover:{defaultValue:null,description:"Open on pointer over (useful for dropdowns in header)",name:"openOnHover",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"The element to use as a button",name:"element",required:!1,type:{name:'"button" | "a" | FunctionComponent<{}> | ComponentClass<{}, any>'}},disabled:{defaultValue:null,description:"Flag to disable the button",name:"disabled",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"Type to pass to the underlying <button></button>",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},variant:{defaultValue:null,description:"Variant of the button",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}},className:{defaultValue:null,description:"Classnames to be added to the button",name:"className",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"The tree structure",name:"data",required:!0,type:{name:"Item[]"}},onSelect:{defaultValue:null,description:"What happens when something is selected",name:"onSelect",required:!0,type:{name:'(item: Omit<Item, "items">) => void'}},autocomplete:{defaultValue:{value:"false"},description:"Contains autocomplete functionality to search through tree",name:"autocomplete",required:!1,type:{name:"boolean"}},autocompletePlaceholder:{defaultValue:{value:""},description:"Placeholder for the autocomplete input box",name:"autocompletePlaceholder",required:!1,type:{name:"string"}},autocompleteFilter:{defaultValue:{value:"true"},description:"",name:"autocompleteFilter",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"The displayed label on the button",name:"label",required:!1,type:{name:"ReactNode"}},defaultActiveNodes:{defaultValue:{value:"[]"},description:"Array of default active nodes for initialisation",name:"defaultActiveNodes",required:!1,type:{name:'Item["id"][]'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/tree-select.tsx#treeselect"]={docgenInfo:treeselect.__docgenInfo,name:"treeselect",path:"src/components/tree-select.tsx#treeselect"})}catch(__react_docgen_typescript_loader_error){}var tree_data=__webpack_require__("./src/mock-data/tree-data.ts");var TreeSelect_stories={title:"Forms/Tree Select",component:src_components_tree_select,argTypes:{variant:{control:"select",options:["primary","secondary","tertiary"]}},args:{label:"Select",variant:"primary"}};const TreeSelect_stories_TreeSelect={render:_ref=>{let{label:label,variant:variant}=_ref;return(0,jsx_runtime.jsx)(src_components_tree_select,{label:label,data:tree_data.L,onSelect:(0,dist.XI)("onSelect"),variant:variant})}},TreeSelectWithAutocomplete={render:_ref2=>{let{label:label,variant:variant}=_ref2;return(0,jsx_runtime.jsx)(src_components_tree_select,{label:label,data:tree_data.L,onSelect:(0,dist.XI)("onSelect"),autocomplete:!0,autocompletePlaceholder:"Search for item",autocompleteFilter:!0,variant:variant})}};TreeSelect_stories_TreeSelect.parameters={...TreeSelect_stories_TreeSelect.parameters,docs:{...TreeSelect_stories_TreeSelect.parameters?.docs,source:{originalSource:"{\n  render: ({\n    label,\n    variant\n  }) => <TS label={label} data={treeData} onSelect={action('onSelect')} variant={variant} />\n}",...TreeSelect_stories_TreeSelect.parameters?.docs?.source}}},TreeSelectWithAutocomplete.parameters={...TreeSelectWithAutocomplete.parameters,docs:{...TreeSelectWithAutocomplete.parameters?.docs,source:{originalSource:"{\n  render: ({\n    label,\n    variant\n  }) => <TS label={label} data={treeData} onSelect={action('onSelect')} autocomplete autocompletePlaceholder=\"Search for item\" autocompleteFilter variant={variant} />\n}",...TreeSelectWithAutocomplete.parameters?.docs?.source}}};const __namedExportsOrder=["TreeSelect","TreeSelectWithAutocomplete"]},"./src/components/dropdown-button.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{ci:function(){return ControlledDropdown},ms:function(){return Dropdown}});var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/react/index.js")),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/button.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./src/styles/components/dropdown.scss"),__webpack_require__("./node_modules/react/jsx-runtime.js"));const _excluded=["children","label","className","openOnHover"],_excluded2=["visibleElement","expanded","children","className","aria-haspopup"],_excluded3=["visibleElement","propChangeToClose"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const DropdownButton=_ref=>{let{children:children,label:label,className:className,openOnHover:openOnHover=!1}=_ref,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__.A)(_ref,_excluded);const[showMenu,setShowMenu]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[size,setSize]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(),ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),dropdownRef=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),childType=typeof children;(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{if(!showMenu)return;const listener=event=>{var _ref$current,_dropdownRef$current;!ref.current||null!==(_ref$current=ref.current)&&void 0!==_ref$current&&null!==(_ref$current=_ref$current.parentElement)&&void 0!==_ref$current&&_ref$current.contains(event.target)||"function"===childType&&null!==(_dropdownRef$current=dropdownRef.current)&&void 0!==_dropdownRef$current&&_dropdownRef$current.contains(event.target)||setShowMenu(!1)};return window.document.addEventListener("mouseup",listener),window.document.addEventListener("touchend",listener),()=>{window.document.removeEventListener("mouseup",listener),window.document.removeEventListener("touchend",listener)}}),[showMenu,childType]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{ref.current&&showMenu&&setSize(ref.current.getBoundingClientRect())}),[showMenu]);const style=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>{if(!size)return;const availableHeight=window.innerHeight-size.bottom;return{top:size.height,maxHeight:availableHeight}}),[size]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:"dropdown-container",onPointerEnter:openOnHover?()=>setShowMenu(!0):void 0,onPointerLeave:openOnHover?()=>setShowMenu(!1):void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_button__WEBPACK_IMPORTED_MODULE_7__.A,_objectSpread(_objectSpread({className:classnames__WEBPACK_IMPORTED_MODULE_3___default()("dropdown",className),onClick:()=>setShowMenu((showMenu=>!showMenu)),ref:ref},props),{},{children:label})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:classnames__WEBPACK_IMPORTED_MODULE_3___default()("dropdown-menu",{"dropdown-menu-open":showMenu}),ref:dropdownRef,style:style,children:showMenu&&("function"==typeof children?children(setShowMenu):children)})]})};DropdownButton.displayName="DropdownButton";const ControlledDropdown=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(((_ref2,ref)=>{let{visibleElement:visibleElement,expanded:expanded,children:children,className:className,"aria-haspopup":ariaHaspopup}=_ref2,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__.A)(_ref2,_excluded2);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",_objectSpread(_objectSpread({className:classnames__WEBPACK_IMPORTED_MODULE_3___default()(className,"dropdown")},props),{},{"aria-expanded":expanded,"aria-haspopup":ariaHaspopup||!0,ref:ref,children:[visibleElement,expanded&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("div",{className:"dropdown__content",children:children})]}))})),Dropdown=_ref3=>{let{visibleElement:visibleElement,propChangeToClose:propChangeToClose}=_ref3,props=(0,_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_6__.A)(_ref3,_excluded3);const[expanded,setExpanded]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),ref=(0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{setExpanded(!1)}),[propChangeToClose]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>{if(!expanded)return;const listener=event=>{var _ref$current2;!ref.current||event.target&&null!==(_ref$current2=ref.current)&&void 0!==_ref$current2&&_ref$current2.contains(event.target)||setExpanded(!1)};return window.document.addEventListener("mouseup",listener,{passive:!0}),window.document.addEventListener("touchend",listener,{passive:!0}),()=>{window.document.removeEventListener("mouseup",listener),window.document.removeEventListener("touchend",listener)}}),[expanded]);const handleClick=(0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((()=>setExpanded((expanded=>!expanded))),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ControlledDropdown,_objectSpread(_objectSpread({visibleElement:(0,react__WEBPACK_IMPORTED_MODULE_2__.cloneElement)(visibleElement,{onClick:handleClick})},props),{},{expanded:expanded,ref:ref}))};Dropdown.displayName="Dropdown",__webpack_exports__.Ay=DropdownButton;try{ControlledDropdown.displayName="ControlledDropdown",ControlledDropdown.__docgenInfo={description:"",displayName:"ControlledDropdown",props:{visibleElement:{defaultValue:null,description:"Element always visible used to open and close the dropdown",name:"visibleElement",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},expanded:{defaultValue:null,description:"Whether the dropdown is open or closed",name:"expanded",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dropdown-button.tsx#ControlledDropdown"]={docgenInfo:ControlledDropdown.__docgenInfo,name:"ControlledDropdown",path:"src/components/dropdown-button.tsx#ControlledDropdown"})}catch(__react_docgen_typescript_loader_error){}try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:"",displayName:"Dropdown",props:{visibleElement:{defaultValue:null,description:"Element always visible used to open and close the dropdown",name:"visibleElement",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},propChangeToClose:{defaultValue:null,description:"Prop that, when it changes, will cause the dropdown to close",name:"propChangeToClose",required:!1,type:{name:"unknown"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dropdown-button.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"src/components/dropdown-button.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}try{dropdownbutton.displayName="dropdownbutton",dropdownbutton.__docgenInfo={description:"",displayName:"dropdownbutton",props:{children:{defaultValue:null,description:"Content revealed on click.",name:"children",required:!0,type:{name:"ReactNode | ((showMenu: Dispatch<SetStateAction<boolean>>) => ReactNode)"}},label:{defaultValue:null,description:"Label to be display by the button",name:"label",required:!0,type:{name:"ReactNode"}},openOnHover:{defaultValue:{value:"false"},description:"Open on pointer over (useful for dropdowns in header)",name:"openOnHover",required:!1,type:{name:"boolean"}},element:{defaultValue:null,description:"The element to use as a button",name:"element",required:!1,type:{name:'"button" | "a" | FunctionComponent<{}> | ComponentClass<{}, any>'}},disabled:{defaultValue:null,description:"Flag to disable the button",name:"disabled",required:!1,type:{name:"boolean"}},type:{defaultValue:null,description:"Type to pass to the underlying <button></button>",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"submit"'},{value:'"reset"'}]}},variant:{defaultValue:null,description:"Variant of the button",name:"variant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}},className:{defaultValue:null,description:"Classnames to be added to the button",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/dropdown-button.tsx#dropdownbutton"]={docgenInfo:dropdownbutton.__docgenInfo,name:"dropdownbutton",path:"src/components/dropdown-button.tsx#dropdownbutton"})}catch(__react_docgen_typescript_loader_error){}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[15].use[1]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[15].use[2]!./src/styles/components/tree-select.scss":function(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,'.button.dropdown::after{border-top-color:currentColor}.dropdown{position:relative;display:inline-block;white-space:nowrap}.dropdown>button.button:first-child{margin-inline-end:1rem;padding-inline-end:1.5ch}.dropdown>button.button.primary:first-child,.dropdown>button.button.secondary:first-child{padding-inline-end:2.5ch}.dropdown>:first-child::after{content:"▾";position:absolute;margin-inline-start:.5ch}.dropdown .button{margin-block-end:0;margin-inline-end:0}.dropdown ul{margin-inline-start:0;margin-block-end:0}.dropdown__content{box-shadow:0 .125rem .25rem .125rem rgba(22,29,57,.2);overflow-y:auto;width:max-content;z-index:9000;animation:200ms reveal;background:#fff;position:absolute;padding:.5rem;border-radius:0 0 .2rem .2rem}.dropdown__content button.button,.dropdown__content a,.dropdown__content a.button{display:inline-block;color:#161d39;margin:0;padding:.25em 1ch;width:100%;line-height:2;border:none;font-weight:normal}.dropdown__content button.button:hover,.dropdown__content button.button:focus-visible,.dropdown__content a:hover,.dropdown__content a:focus-visible,.dropdown__content a.button:hover,.dropdown__content a.button:focus-visible{background:#e4e8eb}.dropdown-container{position:relative;display:inline-block}.hover,.dropdown-content ul li button:hover,.dropdown-content ul li button.primary:hover,.dropdown-content ul li button.secondary:hover,.dropdown-content ul li button.tertiary:hover,.dropdown-content ul li a:hover,.dropdown-content ul li a.primary:hover,.dropdown-content ul li a.secondary:hover,.dropdown-content ul li a.tertiary:hover,.dropdown-menu ul li button:hover,.dropdown-menu ul li button.primary:hover,.dropdown-menu ul li button.secondary:hover,.dropdown-menu ul li button.tertiary:hover,.dropdown-menu ul li a:hover,.dropdown-menu ul li a.primary:hover,.dropdown-menu ul li a.secondary:hover,.dropdown-menu ul li a.tertiary:hover{color:#161d39;border:none;background:#e4e8eb}.dropdown-content,.dropdown-menu{--main-button-color: black;box-shadow:0 .125rem .25rem .125rem rgba(22,29,57,.2);display:none;overflow-y:auto;white-space:nowrap;position:absolute;background:#fff;z-index:9000}.dropdown-content input,.dropdown-menu input{margin:0}.dropdown-content .dropdown-menu__content,.dropdown-menu .dropdown-menu__content{padding:1rem}.dropdown-content .dropdown-menu__panel,.dropdown-menu .dropdown-menu__panel{overflow-y:auto}.dropdown-content ul,.dropdown-menu ul{display:block;list-style:none;margin:0;padding:0}.dropdown-content ul li,.dropdown-menu ul li{float:none !important;display:block;line-height:1.6rem;background-color:#fefefe !important}.dropdown-content ul li button,.dropdown-content ul li button.primary,.dropdown-content ul li button.secondary,.dropdown-content ul li button.tertiary,.dropdown-content ul li a,.dropdown-content ul li a.primary,.dropdown-content ul li a.secondary,.dropdown-content ul li a.tertiary,.dropdown-menu ul li button,.dropdown-menu ul li button.primary,.dropdown-menu ul li button.secondary,.dropdown-menu ul li button.tertiary,.dropdown-menu ul li a,.dropdown-menu ul li a.primary,.dropdown-menu ul li a.secondary,.dropdown-menu ul li a.tertiary{cursor:pointer;line-height:1.6rem;width:100%;text-align:left;font-weight:normal;padding:.5rem !important;margin:0 !important;position:relative;display:block;border:none;padding-right:1rem;text-decoration:none;white-space:nowrap}.dropdown-content ul li button.active,.dropdown-content ul li button.primary.active,.dropdown-content ul li button.secondary.active,.dropdown-content ul li button.tertiary.active,.dropdown-content ul li a.active,.dropdown-content ul li a.primary.active,.dropdown-content ul li a.secondary.active,.dropdown-content ul li a.tertiary.active,.dropdown-menu ul li button.active,.dropdown-menu ul li button.primary.active,.dropdown-menu ul li button.secondary.active,.dropdown-menu ul li button.tertiary.active,.dropdown-menu ul li a.active,.dropdown-menu ul li a.primary.active,.dropdown-menu ul li a.secondary.active,.dropdown-menu ul li a.tertiary.active{font-weight:bold}.dropdown-content .dropdown-menu,.dropdown-menu .dropdown-menu{position:relative;top:0}.dropdown-menu-open{display:block;animation:200ms reveal}@keyframes reveal{from{clip-path:circle(0% at 50% 0%)}to{clip-path:circle(100% at 50% 0%)}}.dropdown-menu__panel ul li[aria-expanded]>button{margin-right:2ch !important}.dropdown-menu__panel ul li[aria-expanded]>button::after{content:"►";float:right;transition:transform .25s ease-out}@media(prefers-reduced-motion: reduce){.dropdown-menu__panel ul li[aria-expanded]>button::after{transition-duration:0s}}.dropdown-menu__panel ul li[aria-expanded]>button:hover::after{will-change:transform}.dropdown-menu__panel ul li[aria-expanded=true]>button::after{transform:rotateZ(90deg)}.dropdown-menu__panel ul li[aria-expanded] ul{display:none}.dropdown-menu__panel ul li[aria-expanded][aria-expanded=true]>ul{display:block;animation:fade-in-from-none .5s ease-out}.dropdown-menu__panel ul li[aria-expanded] li{padding-left:1rem}@keyframes fade-in-from-none{0%{opacity:0;display:none}1%{opacity:0;display:block}100%{opacity:1;display:block}}',"",{version:3,sources:["webpack://./src/styles/components/tree-select.scss","webpack://./src/styles/components/dropdown.scss","webpack://./src/styles/_mixins.scss","webpack://./src/styles/common/_z-index.scss","webpack://./colours.json"],names:[],mappings:"AAAA,wBCMA,6BACE,CAAA,UAGF,iBACE,CAAA,oBACA,CAAA,kBACA,CAAA,oCAIE,sBACE,CAAA,wBAEA,CAAA,0FAKA,wBAEE,CAAA,8BAKN,WACE,CAAA,iBACA,CAAA,wBACA,CAAA,kBAKF,kBACE,CAAA,mBACA,CAAA,aAGF,qBACE,CAAA,kBACA,CAAA,mBAIJ,qDCjCE,CAAA,eDmCA,CAAA,iBACA,CAAA,YEpDa,CAAA,sBFsDb,CAAA,eACA,CAAA,iBACA,CAAA,aACA,CAAA,6BACA,CAAA,kFAEA,oBAGE,CAAA,aG5DW,CAAA,QH8DX,CAAA,iBACA,CAAA,UACA,CAAA,aACA,CAAA,WACA,CAAA,kBACA,CAAA,gOAEA,kBGjEO,CAAA,oBHwEX,iBACE,CAAA,oBACA,CAAA,moBAGF,aGjFe,CAAA,WHmFb,CAAA,kBG/ES,CAAA,iCHmFX,0BAEE,CAAA,qDC5EA,CAAA,YDmFA,CAAA,eACA,CAAA,kBACA,CAAA,iBACA,CAAA,eACA,CAAA,YEvGa,CAAA,6CF8Fb,QACE,CAAA,iFAWF,YACE,CAAA,6EAGF,eACE,CAAA,uCAGF,aACE,CAAA,eACA,CAAA,QACA,CAAA,SACA,CAAA,6CAIA,qBACE,CAAA,aACA,CAAA,kBACA,CAAA,mCACA,CAAA,4hBAIE,cAIE,CAAA,kBACA,CAAA,UACA,CAAA,eACA,CAAA,kBACA,CAAA,wBACA,CAAA,mBACA,CAAA,iBACA,CAAA,aACA,CAAA,WACA,CAAA,kBACA,CAAA,oBACA,CAAA,kBACA,CAAA,4oBAMA,gBACE,CAAA,+DAUV,iBACE,CAAA,KACA,CAAA,oBAIJ,aACE,CAAA,sBACA,CAAA,kBAGF,KACE,8BACE,CAAA,GAEF,gCACE,CAAA,CAAA,kDDjLA,2BACE,CAAA,yDAEA,WACE,CAAA,WACA,CAAA,kCACA,CAAA,uCAEA,yDALF,sBAMI,CAAA,CAAA,+DAIJ,qBACE,CAAA,8DAIJ,wBACE,CAAA,8CAIA,YACE,CAAA,kEAGF,aACE,CAAA,wCACA,CAAA,8CAGF,iBACE,CAAA,6BAOR,GACE,SACE,CAAA,YACA,CAAA,GAGF,SACE,CAAA,aACA,CAAA,KAGF,SACE,CAAA,aACA,CAAA",sourcesContent:["@import './dropdown';\n\n.dropdown-menu__panel ul {\n  li {\n    &[aria-expanded] > button {\n      margin-right: 2ch !important;\n\n      &::after {\n        content: '►';\n        float: right;\n        transition: transform 0.25s ease-out;\n\n        @media (prefers-reduced-motion: reduce) {\n          transition-duration: 0s;\n        }\n      }\n\n      &:hover::after {\n        will-change: transform;\n      }\n    }\n\n    &[aria-expanded='true'] > button::after {\n      transform: rotateZ(90deg);\n    }\n\n    &[aria-expanded] {\n      ul {\n        display: none;\n      }\n\n      &[aria-expanded='true'] > ul {\n        display: block;\n        animation: fade-in-from-none 0.5s ease-out;\n      }\n\n      li {\n        padding-left: 1rem;\n      }\n    }\n  }\n}\n\n// Can't animate opacity and transform together, so we need to use keyframes\n@keyframes fade-in-from-none {\n  0% {\n    opacity: 0;\n    display: none;\n  }\n\n  1% {\n    opacity: 0;\n    display: block;\n  }\n\n  100% {\n    opacity: 1;\n    display: block;\n  }\n}\n","@import '../settings';\n@import '../colours';\n@import '../common/z-index';\n@import '../mixins';\n\n// For legacy dropdown (using borders)\n.button.dropdown::after {\n  border-top-color: currentColor;\n}\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n  white-space: nowrap;\n\n  /* Specificity fight with foundation */\n  & > button.button {\n    &:first-child {\n      margin-inline-end: 1rem;\n      /* A bit of space for the dropdown indicator */\n      padding-inline-end: 1.5ch;\n    }\n\n    &.primary,\n    &.secondary {\n      &:first-child {\n        /* A bit more space for the dropdown indicator for non-tertiary */\n        padding-inline-end: 2.5ch;\n      }\n    }\n  }\n\n  & > :first-child::after {\n    content: '▾';\n    position: absolute;\n    margin-inline-start: 0.5ch;\n  }\n\n  /* Override of franklin patterns when used within */\n  /* try to keep as little as possible, watch out of specificity wars */\n  .button {\n    margin-block-end: 0;\n    margin-inline-end: 0;\n  }\n\n  ul {\n    margin-inline-start: 0;\n    margin-block-end: 0;\n  }\n}\n\n.dropdown__content {\n  @include box-shadow();\n  overflow-y: auto;\n  width: max-content;\n  z-index: $z-index-high;\n  animation: 200ms reveal;\n  background: #fff;\n  position: absolute;\n  padding: 0.5 * $global-padding;\n  border-radius: 0 0 0.2rem 0.2rem;\n\n  button.button,\n  a,\n  a.button {\n    display: inline-block;\n    color: $colour-yankees-blue;\n    margin: 0;\n    padding: 0.25em 1ch;\n    width: 100%;\n    line-height: 2;\n    border: none;\n    font-weight: normal;\n\n    &:hover,\n    &:focus-visible {\n      background: $colour-platinum;\n    }\n  }\n}\n\n.dropdown-container {\n  position: relative;\n  display: inline-block;\n}\n\n.hover {\n  color: $colour-yankees-blue;\n  border: none;\n  background: $colour-platinum;\n}\n\n.dropdown-content,\n.dropdown-menu {\n  --main-button-color: black;\n\n  input {\n    margin: 0;\n  }\n\n  @include box-shadow();\n  display: none;\n  overflow-y: auto;\n  white-space: nowrap;\n  position: absolute;\n  background: #fff;\n  z-index: $z-index-high;\n\n  .dropdown-menu__content {\n    padding: 1rem;\n  }\n\n  .dropdown-menu__panel {\n    overflow-y: auto;\n  }\n\n  ul {\n    display: block;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n\n    // overflow-y: hidden;\n    // height: auto !important;\n    li {\n      float: none !important;\n      display: block;\n      line-height: 1.6rem;\n      background-color: $white !important;\n\n      button,\n      a {\n        &,\n        &.primary,\n        &.secondary,\n        &.tertiary {\n          cursor: pointer;\n          line-height: 1.6rem;\n          width: 100%;\n          text-align: left;\n          font-weight: normal;\n          padding: 0.5rem !important; // These two !important's are required to ensure the BLAST button is ...\n          margin: 0 !important; // styled in the same way as the <a> tags in the Sequence component\n          position: relative;\n          display: block;\n          border: none;\n          padding-right: 1rem;\n          text-decoration: none;\n          white-space: nowrap;\n\n          &:hover {\n            @extend .hover;\n          }\n\n          &.active {\n            font-weight: bold;\n          }\n        }\n      }\n    }\n  }\n\n  // The autocomplete has a dropdown-menu inside a dropdown-menu\n  // so needs to have position set to relative so its width can\n  // follow its container's\n  .dropdown-menu {\n    position: relative;\n    top: 0;\n  }\n}\n\n.dropdown-menu-open {\n  display: block;\n  animation: 200ms reveal;\n}\n\n@keyframes reveal {\n  from {\n    clip-path: circle(0% at 50% 0%);\n  }\n  to {\n    clip-path: circle(100% at 50% 0%);\n  }\n}\n","@use 'sass:math';\n\n@import './settings';\n@import './colours';\n@import './franklin-settings';\n\n@mixin columns($base-class, $number) {\n  .#{$base-class}--columns {\n    column-count: $number;\n    column-width: percentage(math.div(1, $number));\n\n    & > * {\n      break-inside: avoid;\n    }\n  }\n}\n\n@mixin box-shadow($spread: 0.125rem) {\n  box-shadow: 0 0.125rem 0.25rem $spread rgba($colour-yankees-blue, 0.2);\n}\n\n@mixin fs-breakpoints($size) {\n  @if map-has-key($fs-breakpoint-values, $size) {\n    @media #{inspect(map-get($fs-breakpoint-values, $size))} {\n      @content;\n    }\n  }\n}\n\n@mixin ellipsis() {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n","$z-index-low: 2000;\n$z-index-medium: 5000;\n$z-index-high: 9000;\n//previous: $z-index-highest: 10000; current: max possible z-index\n$z-index-highest: 2147483641;\n","$sapphire-blue: #014371;\n$sea-blue: #00639a;\n$vivid-cerulean: #00a6d5;\n$medium-turquoise: #46d6fa;\n$gainsborough: #d2dce3;\n$yankees-blue: #161d39;\n$independence: #4e5a71;\n$weldon-blue: #8194a1;\n$pastel-blue: #abc7d6;\n$platinum: #e4e8eb;\n$sky-white: #fbfeff;\n$bronze: #a65708;\n$reviewed: #c39b00;\n$unreviewed: #c0c0c0;\n$uniref: #f2994c;\n$uniparc: #88c19d;\n$proteomes: #e56358;\n$reference-proteome: #9d4a4d;\n$peptide-search: #A748BD;\n$id-mapping: #357B92;\n$blast: #00A6D5;\n$align: #B8CE48;\n$warning: #ffcc33;\n$failure: #f36968;\n$success: #108f3b;\n$info: #79cbf8;\n$help-green: #28aa50;\n$coyote-brown: #966336;\n$outer-space: #374343;\n$tool-results: #622E81;"],sourceRoot:""}]),module.exports=___CSS_LOADER_EXPORT___}}]);